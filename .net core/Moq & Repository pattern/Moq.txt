Best Practices of Unit Tests 
----------------------------

Isolated/Stand-alone
(separated from any other dependencies such as file system or database)


Test single method at-a-time 
(should not test more than one method in a single test case)

Unordered 
(can be executed in any order)

Fast
(Tests should take little time to run (about few milliseconds))

Repeatable 
(Tests can run repeatedly but should give same result, if no changes in the actual source code)

Timely 
(Time taken for writing a test case should not take longer time, than the time taken for writing the 
    code that is being tested).



Mock DbContext
==============

Test Double 
-----------
A "test double" is an object that look and behave like their production equivalent objects.

Run Time 
    -Controller 
    -Business Logic (Service)
    -Data Access Logic (DbContext)

Unit Test
    -Controller 
    -Business Logic (Service)
    -Fake or Mock (Test Double)




Fake
-----
    -An object that provides an alternative (dummy) implementation of an interface 

Mock
----
    -An object on which you fix specific return value for each individual method or property, 
        actual / full implementation of it.

Mocking the DbContext
---------------------

Install-Package Moq 
Install-Package EntityFrameworkCoreMock.Moq 

Mocking the DbContext:

    var dbContextOptions = new DbContextOptionsBuilder<DbContextClassName>().Options;

    //mock the DbContext
    DbContextMock<DbContextClass> dbContextMock = new DbContextMock<DbContextClass>(dbContextOptions);

    var initialData = new List<ModelClass>(){ ... };

    //mock the DbSet 
    var dbSetMock = dbContextMock.CreateDbSetMock(temp => temp.DbSetName, initialData);

    //create service instance with mocked DbContext
    var service = new ServiceClass(dbContextMock.Object);



 